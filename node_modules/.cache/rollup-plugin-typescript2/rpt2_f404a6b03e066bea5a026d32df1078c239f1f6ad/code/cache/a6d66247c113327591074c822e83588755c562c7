{"code":"export class RuleEngine {\r\n    constructor(rules = []) {\r\n        this.rules = [];\r\n        rules.map(x => this.addRule(x));\r\n    }\r\n    ;\r\n    addRule(rule) {\r\n        this.rules.push(rule);\r\n    }\r\n    async run(tx) {\r\n        for (let i = 0; i < this.rules.length; i++) {\r\n            await this.rules[i].run(tx);\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=engine.js.map","references":["/Users/gregmarkou/code/github.com/GregTheGreek/Heliaia/node_modules/ethers/lib/index.d.ts"],"map":"{\"version\":3,\"file\":\"engine.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/rules/engine.ts\"],\"names\":[],\"mappings\":\"AAYA,MAAM,OAAO,UAAU;IAEnB,YAAY,QAAgB,EAAE;QAC1B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IACpC,CAAC;IAAA,CAAC;IAEF,OAAO,CAAC,IAAU;QACd,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,KAAK,CAAC,GAAG,CAAC,EAAe;QACrB,KAAK,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACtC,MAAM,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;SAC/B;IACL,CAAC;CACJ\"}","dts":{"name":"/Users/gregmarkou/code/github.com/GregTheGreek/Heliaia/rules/engine.d.ts","writeByteOrderMark":false,"text":"import ethers, { Transaction } from \"ethers\";\r\nexport interface RuleResponse {\r\n    result: any;\r\n    error?: string;\r\n}\r\nexport interface Rule {\r\n    provider: ethers.providers.JsonRpcProvider;\r\n    run(tx: Transaction): Promise<RuleResponse>;\r\n}\r\nexport declare class RuleEngine {\r\n    rules: Rule[];\r\n    constructor(rules?: Rule[]);\r\n    addRule(rule: Rule): void;\r\n    run(tx: Transaction): Promise<void>;\r\n}\r\n"}}
