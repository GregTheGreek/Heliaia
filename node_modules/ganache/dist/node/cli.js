#!/usr/bin/env node
!function webpackUniversalModuleDefinition(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@trufflesuite/bigint-buffer"),require("keccak"),require("secp256k1"),require("leveldown"),function webpackLoadOptionalExternalModule(){try{return require("bufferutil")}catch(e){}}(),function webpackLoadOptionalExternalModule(){try{return require("utf-8-validate")}catch(e){}}()):"function"==typeof define&&define.amd?define(["@trufflesuite/bigint-buffer","keccak","secp256k1","leveldown","bufferutil","utf-8-validate"],t):"object"==typeof exports?exports.Ganache=t(require("@trufflesuite/bigint-buffer"),require("keccak"),require("secp256k1"),require("leveldown"),function webpackLoadOptionalExternalModule(){try{return require("bufferutil")}catch(e){}}(),function webpackLoadOptionalExternalModule(){try{return require("utf-8-validate")}catch(e){}}()):e.Ganache=t(e["@trufflesuite/bigint-buffer"],e.keccak,e.secp256k1,e.leveldown,e.bufferutil,e["utf-8-validate"])}(global,(function(e,t,o,r,n,s){return(()=>{var c,i,l={866:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=866,e.exports=webpackEmptyContext},864:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=864,e.exports=webpackEmptyContext},231:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=231,e.exports=webpackEmptyContext},865:e=>{function webpackEmptyContext(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id=865,e.exports=webpackEmptyContext},376:function(e,t,o){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=o(111),s=r(o(630)),c=o(28),i=r(o(230)),l=o(75),a=r(o(641)),u=r(o(645)),p=o(114);a.default.setOptions({renderer:new u.default({codespan:i.default.hex(n.TruffleColors.porsche),unescape:!1})});const f=Math.min(120,s.default.terminalWidth());const center=e=>" ".repeat(Math.max(0,Math.floor((f-e.length)/2)))+e;function processOption(e,t,o,r,n,s,c){if(!0!==n.disableInCLI){const p=[],f=[];let _=(u=n.cliDescription||"",function unescapeEntities(e){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/\*\#COLON\|\*/g,":")}(a.default.parseInline(u)));n.cliAliases&&(n.cliAliases.forEach((e=>{1===e.length?p.push(e):f.push(e)})),_=i.default`${_}${l.EOL}{dim deprecated aliases: ${f.map((e=>`--${e}`)).join(", ")}}`);const generateDefaultDescription=()=>e[r]=n.default?n.default(e,c).toString():void 0,d="defaultDescription"in n?n.defaultDescription:generateDefaultDescription(),{cliType:h}=n,g=h&&h.startsWith("array:"),b=g?h.slice(6):h,w={group:o,description:_,alias:p,defaultDescription:d,array:g,type:b,choices:n.cliChoices,coerce:n.cliCoerce,implies:n.implies},k=`${t}.${r}`;s=(s=((e,t,o)=>{const r={hidden:!0,alias:o};return t.reduce(((e,t)=>e.option(t,r)),e)})(s,f,k)).option(k,w)}var u}function applyDefaults(e,t,o){for(const r in e){const n=`${r[0].toUpperCase()}${r.slice(1)}:`,s=e[r],c={};for(const e in s){processOption(c,r,n,e,s[e],t,o)}}}t.default=function default_1(e,t){const o=i.default`{hex("${n.TruffleColors.porsche}").bold ${center(e)}}`;let r,a=s.default.parserConfiguration({"dot-notation":!1}).strict().usage(o).epilogue(o+l.EOL+l.EOL+i.default`{hex("${n.TruffleColors.porsche}").bold ${center("Need more help? Reach out to the Truffle community at")}}`+l.EOL+i.default`{hex("${n.TruffleColors.turquoise}") ${center("https://trfl.io/support")}}`);for(r in c.DefaultOptionsByName){const e=c.DefaultOptionsByName[r];let o,n;switch(r){case c.FilecoinFlavorName:o=r,n=7777;break;case c.DefaultFlavor:o=["$0",r],n=8545;break;default:o=r,n=8545}a=a.command(o,i.default`Use the {bold ${r}} flavor of Ganache`,(o=>{applyDefaults(e,o,r),applyDefaults(p._DefaultServerOptions,o,r),o=o.option("server.host",{group:"Server:",description:i.default`Hostname to listen on.${l.EOL}{dim deprecated aliases: --host, --hostname}${l.EOL}`,alias:["h","host","hostname"],type:"string",default:t?"0.0.0.0":"127.0.0.1"}).option("server.port",{group:"Server:",description:i.default`Port to listen on.${l.EOL}{dim deprecated aliases: --port}${l.EOL}`,alias:["p","port"],type:"number",default:n}).check((e=>{const{"server.port":t,"server.host":o}=e;if(t<1||t>65535)throw new Error(`Invalid port number '${t}'`);if(""===o.trim())throw new Error("Cannot leave host blank; please provide a host");return!0}))}))}a=a.showHelpOnFail(!1,"Specify -? or --help for available options").alias("help","?").wrap(f).version(e);const u=a.argv,_={flavor:u._.length>0?u._[0]:c.DefaultFlavor};for(let e in u){const[t,o]=e.split(/\.(.+)/);o&&(_[t]||(_[t]={}),_[t][o]=u[e])}return _}},870:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(1),n=o(0);t.default=function default_1(e,t){const o=e.getOptions(),s=e.getInitialAccounts(),c=Object.keys(s);console.log(""),console.log("Available Accounts"),console.log("=================="),c.length>0?(c.forEach((function(e,t){const o=s[e].balance,c=o/r.WEI,i=o%r.WEI===0n?"":"~";let l=`(${t}) ${n.toChecksumAddress(e)} (${i}${c} ETH)`;s[e].unlocked||(l+=" ðŸ”’"),console.log(l)})),console.log(""),console.log("Private Keys"),console.log("=================="),c.forEach((function(e,t){console.log(`(${t}) ${s[e].secretKey}`)})),null!=o.wallet.accountKeysPath&&(console.log(""),console.log(`Accounts and keys saved to ${o.wallet.accountKeysPath}`))):console.log("(no accounts unlocked)"),null==o.wallet.accounts&&(console.log(""),console.log("HD Wallet"),console.log("=================="),console.log(`Mnemonic:      ${o.wallet.mnemonic}`),console.log(`Base HD Path:  ${o.wallet.hdPath}{account_index}`)),o.miner.defaultGasPrice&&(console.log(""),console.log("Default Gas Price"),console.log("=================="),console.log(o.miner.defaultGasPrice.toBigInt())),o.miner.blockGasLimit&&(console.log(""),console.log("BlockGas Limit"),console.log("=================="),console.log(o.miner.blockGasLimit.toBigInt())),o.miner.callGasLimit&&(console.log(""),console.log("Call Gas Limit"),console.log("=================="),console.log(o.miner.callGasLimit.toBigInt())),o.fork.url&&(console.log(""),console.log("Forked Chain"),console.log("=================="),console.log(`Location:        ${o.fork.url.toString()}`),console.log(`Block:           ${o.fork.blockNumber}`),console.log(`Network ID:      ${o.chain.networkId}`),console.log(`Time:            ${(new Date).toString()}`),0!==o.fork.requestsPerSecond&&console.log(`Requests/Second: ${o.fork.requestsPerSecond}`)),console.log(""),console.log("Chain Id"),console.log("=================="),console.log(o.chain.chainId),console.log(""),console.log("RPC Listening on "+t.host+":"+t.port)}},871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function default_1(e,t){const o=e.getOptions(),r=await e.getInitialAccounts();console.log(""),console.log("Available Accounts"),console.log("==================");const n=Object.keys(r),s=1000000000000000000n;n.forEach((function(e,t){const o=r[e].balance;let n=`(${t}) ${e} (${o%s===0n?"":"~"}${o/s} FIL)`;r[e].unlocked||(n+=" ðŸ”’"),console.log(n)})),console.log(""),console.log("Private Keys"),console.log("=================="),n.forEach((function(e,t){console.log(`(${t}) ${r[e].secretKey}`)})),console.log(""),console.log(`Lotus RPC listening on ${t.host}:${t.port}`),console.log(`IPFS  RPC listening on ${o.chain.ipfsHost}:${o.chain.ipfsPort}`)}},70:function(e,t,o){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,o,r){void 0===r&&(r=o),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,r){void 0===r&&(r=o),e[r]=t[o]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&r(t,e,o);return n(t,e),t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(o(114)),l=c(o(376)),a=o(28),u=c(o(870)),p=c(o(871)),logAndForceExit=(e,t=0)=>{process.stdout._handle&&process.stdout._handle.setBlocking(!0);try{e.forEach((e=>console.log(e)))}catch(e){console.log(e)}process.exit(t)},{version:f}={version:"0.1.1-alpha.2"},{version:_}={version:"0.1.1-alpha.2"},{version:d}={version:"7.0.0-alpha.2"},h=`ganache v${d} (@ganache/cli: ${_}, @ganache/core: ${f})`,g="DOCKER"in process.env&&"true"===process.env.DOCKER.toLowerCase(),b=l.default(h,g),w=b.flavor,k=b.server;let m;console.log(h);try{m=i.default.server(b)}catch(e){console.error(e.message),process.exit(1)}let v=!1;process.on("uncaughtException",(function(e){logAndForceExit(v?[e]:[e.stack],1)}));let y=!1;const handleSignal=async e=>{console.log(`\nReceived shutdown signal: ${e}`),closeHandler()},closeHandler=async()=>{try{switch(m.status){case i.ServerStatus.opening:return y=!0,void console.log("Server is currently starting; waitingâ€¦");case i.ServerStatus.open:console.log("Shutting downâ€¦"),await m.close(),console.log("Server has been shut down")}process.exitCode=0}catch(e){logAndForceExit(["\nReceived an error while attempting to shut down the server: ",e.stack||e],1)}};if("win32"===process.platform){const e=o(872).createInterface({input:process.stdin,output:process.stdout}).on("SIGINT",(()=>{e.close(),handleSignal("SIGINT")}))}process.on("SIGINT",handleSignal),process.on("SIGTERM",handleSignal),process.on("SIGHUP",handleSignal),console.log("Starting RPC server"),m.listen(k.port,k.host,(async function startGanache(e){if(e)return console.log(e),void(process.exitCode=1);if(y)closeHandler();else switch(v=!0,w){case a.FilecoinFlavorName:await p.default(m.provider,k);break;case a.EthereumFlavorName:default:u.default(m.provider,k)}}))},863:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o(70)},237:t=>{"use strict";t.exports=e},4:e=>{"use strict";e.exports=require("assert")},39:e=>{"use strict";e.exports=require("buffer")},558:e=>{"use strict";if(void 0===n){var t=new Error("Cannot find module 'bufferutil'");throw t.code="MODULE_NOT_FOUND",t}e.exports=n},20:e=>{"use strict";e.exports=require("crypto")},74:e=>{"use strict";e.exports=require("events")},15:e=>{"use strict";e.exports=require("fs")},160:e=>{"use strict";e.exports=require("http")},228:e=>{"use strict";e.exports=require("https")},165:e=>{"use strict";e.exports=t},282:e=>{"use strict";e.exports=r},152:e=>{"use strict";e.exports=require("net")},75:e=>{"use strict";e.exports=require("os")},13:e=>{"use strict";e.exports=require("path")},606:e=>{"use strict";e.exports=require("querystring")},872:e=>{"use strict";e.exports=require("readline")},246:e=>{"use strict";e.exports=o},121:e=>{"use strict";e.exports=require("stream")},229:e=>{"use strict";e.exports=require("tls")},285:e=>{"use strict";e.exports=require("tty")},193:e=>{"use strict";e.exports=require("url")},560:e=>{"use strict";if(void 0===s){var t=new Error("Cannot find module 'utf-8-validate'");throw t.code="MODULE_NOT_FOUND",t}e.exports=s},14:e=>{"use strict";e.exports=require("util")},557:e=>{"use strict";e.exports=require("zlib")}},a={};function __webpack_require__(e){if(a[e])return a[e].exports;var t=a[e]={id:e,loaded:!1,exports:{}};return l[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}return __webpack_require__.m=l,__webpack_require__.c=a,__webpack_require__.x=()=>__webpack_require__(__webpack_require__.s=863),__webpack_require__.amdD=function(){throw new Error("define cannot be used indirect")},__webpack_require__.amdO={},__webpack_require__.f={},__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,o)=>(__webpack_require__.f[o](e,t),t)),[])),__webpack_require__.u=e=>e+".js",__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),c=__webpack_require__.x,__webpack_require__.x=()=>(__webpack_require__.e(0),__webpack_require__.e(4),__webpack_require__.e(1),c()),__webpack_require__.p="",i={2:1},__webpack_require__.f.require=function(e,t){i[e]||(e=>{var t=e.modules,o=e.ids,r=e.runtime;for(var n in t)__webpack_require__.o(t,n)&&(__webpack_require__.m[n]=t[n]);r&&r(__webpack_require__);for(var s=0;s<o.length;s++)i[o[s]]=1})(require("./"+__webpack_require__.u(e)))},__webpack_require__.x()})()}));
//# sourceMappingURL=cli.js.map